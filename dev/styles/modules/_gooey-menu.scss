//config
$menu-items: 3;
$item-width: 5rem;
$item-height: $item-width;
$open-distance: (1.5 * $item-width);

.gooey__wrapper {
  position: relative;
  display: flex;
  justify-content: center;
  
  .gooey {
    filter: url("#shadowed-goo");
    width: 100%;
    height: 150px;
  }

  .gooey__item {
    position: absolute;
    top: calc(50% - 2.5rem);
    left: calc(50% - 2.5rem);
    border-radius: 100%;

    text-align: center;
    font-size: 2rem;

    background: $action-color;
    transition: transform ease-out 200ms;

    &:hover {
      // background: white;
      // color: red;
    }

    @for $i from 1 through $menu-items {
      &:nth-child(#{$i+1}) {
        transition-duration: 70ms + ($i * 60ms);
      }
    }

    .gooey__item__content {
      width: $item-width;
      height: $item-height;
      display: block;
      line-height: 5rem;
      color: white;
    }
  }

  .gooey__open-button {
    @extend .gooey__item;
    text-align: center;
    z-index: 2;
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transition-duration: 400ms;

    &.active {
      transform: rotate(45deg);    
      
      & ~ .gooey__item {
        @for $i from 1 through $menu-items {
          $angle: 150deg + ($i * (60deg));
          
          &:nth-child(#{$i+1}){
            transition-duration:80ms+(80ms*$i);
            transform:translate3d(
                        cos($angle)*$open-distance,
                        sin($angle)*$open-distance,
                        0
                      );
          }
        }
      }
    }
  }
}