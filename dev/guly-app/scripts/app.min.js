function JSON_CALLBACK(){}var gulyApp=window.angular.module("gulyApp",["LocalStorageModule","ngRoute","ngAnimate","mainNavModule","waterMeterModule","pagesViewControllers","formControllers","switchControllers","gulyFiltersModule","weatherControllers","weatherServices","tc.chartjs","slick","sharingModule"]),pagesViewControllers=angular.module("pagesViewControllers",[]),formControllers=angular.module("formControllers",[]),mainNavModule=angular.module("mainNavModule",[]),waterMeterModule=angular.module("waterMeterModule",["gooeyMenuModule"]),gooeyMenuModule=angular.module("gooeyMenuModule",[]),gulyFiltersModule=angular.module("gulyFiltersModule",[]),weatherControllers=angular.module("weatherControllers",[]),weatherServices=angular.module("weatherServices",[]),sharingModule=angular.module("sharingModule",[]);gulyApp.config(["$routeProvider",function(t){t.when("/water-tracker",{templateUrl:"partials/water-tracker.html",controller:"WaterTrackerCtrl"}).when("/profil",{templateUrl:"partials/profil.html",controller:"ProfileCtrl"}).when("/water-need",{templateUrl:"partials/water-need.html",controller:"wnCtrl"}).when("/statistiques",{templateUrl:"partials/statistiques.html",controller:"StatsCtrl"}).when("/astuces",{templateUrl:"partials/astuces.html",controller:"AstucesCtrl"}).when("/faq",{templateUrl:"partials/faq.html",controller:"FaqCtrl"}).when("/boutique",{templateUrl:"partials/boutique.html",controller:"ShopCtrl"}).when("/weather-test",{templateUrl:"partials/weather-test.html",controller:"WeatherCtrl"}).otherwise({redirectTo:"/water-tracker"})}]).config(["localStorageServiceProvider",function(t){t.setPrefix("guly").setStorageType("localStorage").setNotify(!0,!0)}]).run(["$location","localStorageService",function(t,e){var r=e.get("logged");r||t.url("/profil")}]),gulyApp.controller("storageCtrl",["$scope","localStorageService",function(t,e){function r(e){var r=parseInt(t.weight),o=38,l=900/65*r;return wnResult=r*o-l,wnResult}t.nickname=e.get("nickname"),t.weight=e.get("weight"),t.notif=null!==e.get("notif")?e.get("notif"):!0,t.sport=null!==e.get("sport")?e.get("sport"):!1,t.smart=null!==e.get("smart")?e.get("smart"):!1,t.wnResult=r(),t.$watch(function(o){e.set("nickname",o.nickname),t.nicknameVal=e.get("nickname"),e.set("weight",o.weight),t.weightVal=e.get("weight"),e.set("notif",o.notif),t.notifVal=e.get("notif"),e.set("smart",o.smart),t.smartVal=e.get("smart"),e.set("wnResult",r()),t.wnResultVal=e.get("wnResult")})}]),gulyApp.controller("wnCtrl",["$scope","localStorageService",function(t,e){console.log("wnCtrl");var r=parseInt(t.weight),o=38,l=r*(900/65),n=null!==e.get("wnToDrink")?e.get("wnToDrink"):!1;t.wnResult=r*o-l,e.set("wnResult",t.wnResult),null==n&&e.set("wnToDrink",t.wnResult)}]),pagesViewControllers.controller("WaterTrackerCtrl",["$scope",function(t){t.pageClass="tracker"}]).controller("ProfileCtrl",["$scope",function(t){t.pageClass="profil"}]).controller("wnCtrl",["$scope",function(t){t.pageClass="water-need"}]).controller("StatsCtrl",["$scope",function(t){t.pageClass="stats"}]).controller("AstucesCtrl",["$scope",function(t){t.pageClass="astuces"}]).controller("FaqCtrl",["$scope",function(t){t.pageClass="faq"}]).controller("ShopCtrl",["$scope",function(t){t.pageClass="shop"}]),gulyApp.controller("astucesCtrl",["$scope","$http",function(t,e){t.astuces=[],e.get("app-data/astuces.json").success(function(e){t.astuces=e}).error(function(t){console.log("attention, erreur: "+t)})}]),gulyApp.controller("faqitemCtrl",["$scope","$http",function(t,e){t.faq=[],e.get("app-data/faq_items.json").success(function(e){t.faq=e}).error(function(t){console.log("attention, erreur: "+t)})}]),gulyApp.controller("profilformCtrl",["$scope","localStorageService",function(t,e){this.profil={},t.notif=null!==e.get("notif")?e.get("notif"):!0,t.smart=null!==e.get("smart")?e.get("smart"):!1,t.submitForm=function(t){t&&(logged=!0,console.log("formulaire envoyé"),e.set("logged",logged))}}]),gulyApp.controller("contactformCtrl",function(t){this.contact={},t.submitForm=function(t){t&&console.log("formulaire envoyé")}}),waterMeterModule.controller("waterMeterController",["$scope","$element","$window","localStorageService",function(t,e,r,o){function l(t){c.css("height",t+"%")}function n(t){o.set("wnToDrink",t)}var a=o.get("wnResult");if(null!==o.get("wnToDrink"))var i=o.get("wnToDrink");else i=n(a);var s=e.find(".water-meter__round-wrapper"),c=e.find(".water-meter__level");t.wnToDrink=i,height=i/a*100,l(height);var u=o.get("drinkSize")?JSON.parse(o.get("drinkSize")):!1;t.drinkSize={},t.drinkSize.small=u.small?u.small:125,t.drinkSize.med=u.med?u.med:250,t.drinkSize.large=u.large?u.large:330,t.updateToDrink=function(e){i=o.get("wnToDrink");var r=i-e;r=r>0?r:"0",height=r/a*100,t.wnToDrink=r,l(height),o.set("wnToDrink",r)};var g,p;r.DeviceOrientationEvent&&r.addEventListener("deviceorientation",function(e){g=Math.round(100*e.gamma)/100,t.tiltFB=e.beta,p=e.alpha,s.attr("style","transform: rotate("+g+");")})}]),weatherControllers.controller("GetWeatherCtrl",["$scope","weatherApi",function(t,e){t.currentTime=moment().format("h:mm a"),e.getLocation().then(function(r){e.getWeeklyWeather(r.data.city+","+r.data.country_code).then(function(e){t.data=e.data,t.data.list.length&&t.data.list.forEach(function(t,e){var r=moment(1e3*t.dt);t.dt={day:r.format("ddd")},moment().format("d")==r.format("d")&&(t.dt.today=!0)})})})}]),weatherServices.factory("weatherApi",["myHttp",function(t){return{getLocation:function(){return t.jsonp("http://muslimsalat.com/daily.json?callback=JSON_CALLBACK")},getWeeklyWeather:function(e){return t.get("http://api.openweathermap.org/data/2.5/forecast/daily?q="+e+"&mode=json&units=metric")}}}]),weatherServices.factory("myHttp",["$http","myCache",function(t,e){var r={cache:e,dataType:"json"},o="2f105d521c5bb6af5e35da3eb53ce954";return{config:r,get:function(e,r,l){return t.get(e+"&APPID="+o,this.config)},getLocal:function(e,r,o){return t.get(e)},jsonp:function(e,r,o){return t.jsonp(e,this.config)}}}]),weatherServices.factory("myCache",function(t){return t("myCache",{capacity:100})}),gulyApp.controller("chartController",["$scope","$http","localStorageService",function(t,e,r){var o=new Date,l=o.getDate(),n=o.getMonth()+1,a=o.getFullYear();10>l&&(l="0"+l),10>n&&(n="0"+n),o=n+"/"+l+"/"+a,console.log(o);var i="rgb(0, 119, 230)",s="rgb(11, 46, 88)",c="rgb(102, 229, 209)",u="rgb(255, 255, 255)",g="rgba(0, 0, 0, 0)",p='"misoregular", "Arial Narrow","Helvetica Condensed", Helvetica, Arial, sans-serif';t.data=JSON.parse(r.get("chartsData")),t.options={scaleBeginAtZero:!0,scaleFontFamily:p,scaleFontSize:14,scaleFontColor:u,scaleLineColor:u,scaleShowVerticalLines:!1,responsive:!0,maintainAspectRatio:!1,tooltipFillColor:s,tooltipFontFamily:p,tooltipFontSize:24,tooltipTitleFontFamily:p,tooltipTitleFontSize:18,tooltipYPadding:12,tooltipXPadding:12,tooltipCornerRadius:5,multiTooltipTemplate:"<%= value %> litres",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.5,pointDot:!0,pointDotRadius:2,pointDotStrokeWidth:2,pointHitDetectionRadius:20,datasetStrokeWidth:6};var d={labels:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],datasets:[{label:"objectif quotidien",fillColor:u,strokeColor:g,pointColor:g,pointStrokeColor:g,pointHighlightFill:g,pointHighlightStroke:g,data:[1.8,1.8,1.8,1.8,2.4,1.8,1.8]},{label:"Quantité bue",fillColor:g,strokeColor:c,pointColor:i,pointStrokeColor:s,pointHighlightFill:c,pointHighlightStroke:i,data:[1.2,1.4,1.3,1.6,2.6,1.8,1.8]}]};r.set("chartsData",JSON.stringify(d))}]),gulyApp.controller("badgesCtrl",["$scope","$http",function(t,e){t.badges=[],e.get("app-data/badges.json").success(function(e){t.badges=e}).error(function(t){console.log("attention, erreur: "+t)})}]),waterMeterModule.directive("gulWaterMeter",function(){return{restrict:"E",templateUrl:"widgets/water-meter.html",controller:"waterMeterController"}}),gooeyMenuModule.directive("gulGooeyMenu",function(){return{restrict:"E",templateUrl:"widgets/gooey-menu.html"}}),mainNavModule.directive("gulMainNavModule",function(){return{restrict:"E",templateUrl:"widgets/main-nav.html"}}),weatherControllers.directive("gulWeather",function(){return{restrict:"E",templateUrl:"widgets/weather.html",controller:"GetWeatherCtrl"}}),formControllers.directive("profilForm",function(){return{restrict:"E",templateUrl:"widgets/profil-form.html",controller:"profilformCtrl",controllerAs:"profilform"}}),gulyApp.directive("slickSlider",function(){return{restrict:"A",scope:{data:"="},link:function(t,e,r){var o=!1;t.$watch("data",function(l,n){l.length>0&&!o&&($(e).slick(t.$eval(r.slickSlider)),o=!0)})}}}),sharingModule.directive("sharingButtons",function(){return{restrict:"E",templateUrl:"widgets/sharing-buttons.html"}}),gulyFiltersModule.filter("range",function(){return function(t,e,r){e=parseInt(e),r=parseInt(r);for(var o=e;r>=o;o++)t.push(o);return t}}).filter("litres",["$filter",function(t){return function(e,r){var o=t("number");return r?"ml"===r?(e=e,e+=" ml"):"cl"===r?(e/=10,e+=" cl"):"dl"===r&&(e/=100,e+=" dl"):(e/=1e3,e=o(e,2),e+=" l"),e}}]).filter("temp",["$filter",function(t){return function(e,r){r||(r=1);var o=t("number");return o(e,r)+"°C"}}]);
//# sourceMappingURL=app.min.js.map